package wtf.demise.features.modules.impl.exploit;

import net.minecraft.network.play.client.C02PacketUseEntity;
import wtf.demise.events.annotations.EventTarget;
import wtf.demise.events.impl.player.AttackEvent;
import wtf.demise.features.modules.Module;
import wtf.demise.features.modules.ModuleCategory;
import wtf.demise.features.modules.ModuleInfo;
import wtf.demise.features.values.impl.SliderValue;

@ModuleInfo(name = "ComboOneHit", description = "Allows you to kill players with one hit in some server's combo gamemode.", category = ModuleCategory.Exploit)
public class ComboOneHit extends Module {
    public final SliderValue packets = new SliderValue("Packets", 50, 1, 1000, 1, this);

    @EventTarget
    public void onAttackEvent(AttackEvent e) {
        for (int i = 0; i < (int) packets.get(); i++) {
            sendPacketNoEvent(new C02PacketUseEntity(e.getTargetEntity(), C02PacketUseEntity.Action.ATTACK));
        }
    }
}
